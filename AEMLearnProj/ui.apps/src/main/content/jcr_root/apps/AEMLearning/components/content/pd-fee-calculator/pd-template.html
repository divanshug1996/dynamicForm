<template data-sly-template.basicPermit="${ @ controller}">
    <div class="container-fluid" id="step2">
        <h2>${controller.formValues.step1Title}</h2>
        <div class="draft draft-text"></div>
        <div class="row header-row">
            <div class="hidden-xs col-sm-3">${controller.formValues.C1title}</div>
            <div class="hidden-xs col-sm-3"></div>
            <div class="hidden-xs col-sm-3">${controller.formValues.C2title}</div>
            <div class="hidden-xs col-sm-3">${controller.formValues.C3title}</div>
        </div>
        <div class="row add-fee">   
            <div class="col-xs-12 col-sm-3">
                ${controller.formValues.feeTypeDesc}
            </div>
            <div class="col-xs-12 col-sm-3">
                <sly data-sly-test="${controller.pdFormType=='commercial'}">
                    $ <input class="form-control long-form" type="text" id="${controller.pdFormType}_input" pattern="[0-9]*"
                        inputmode="numeric">
                    <br>
                    <label for="permit_rate_input">
                        <small>${controller.formValues.feeInputDesc}</small>
                    </label>
                </sly>
                <sly data-sly-test="${controller.pdFormType=='demolition'}">
                    <input class="form-control  long-form" type="text" id="${controller.pdFormType}_input" maxlength=""
                        pattern="[0-9]*" inputmode="numeric">
                    <label for="bldg_demo_input">
                        m<sup>2</sup>
                        <br>
                        <small>${controller.formValues.feeInputDesc}</small>
                    </label>
                </sly>
                <sly data-sly-test="${controller.pdFormType=='newHomes' || 
                                     controller.pdFormType=='multiFammilyLowRise' || 
                                     controller.pdFormType=='multiFammilyHigHRise' || 
                                     controller.pdFormType=='hotels' || 
                                     controller.pdFormType=='careFacilities' ||
                                     controller.pdFormType=='wareHouses'}">
                    $ <span class="fees-values previous-total"></span>
                    <br>
                    <small class="text-center">${controller.formValues.feeInputDesc}</small>
                </sly>

            </div>
            <div class="col-xs-12 col-sm-3 text-center">
                <span class="pull-left strong">×</span>
                $ <span class="rates" id="${controller.pdFormType}_rate" data-attr-dfactor="${controller.formValues.ratePerPrice}">${controller.formValues.ratePercent}</span> per
                ${controller.formValues.ratePerPrice}
                <span class="pull-right strong">=</span>
            </div>

            <div class="col-xs-12 col-sm-3">
                $ <span class="totals fees-totals zero-total" id="${controller.pdFormType}_permit_rate_total"></span>
                <small class="na-notice">
                    ${controller.formValues.totalDesc}
                </small>
            </div>
        </div>

        <sly data-sly-test="${controller.pdFormType=='newHomes'}">
            <div class="row add-fee">
                <div class="col-xs-12 col-sm-6">
                    <input type="checkbox" class="fees-values" id="ground_work_checkbox">
                    <label for="ground_work_checkbox">${controller.formValues.typeDesc1}</label>
                </div>
                <div class="col-xs-12 col-sm-3 text-center">
                    <span class="pull-left strong">+</span>
                    $ <span class="rates" id="ground_work">${controller.formValues.rateDesc1}</span>*
                    <span class="pull-right strong">=</span>
                </div>
                <div class="col-xs-12 col-sm-3">
                    $ <span class="totals fees-totals" id="ground_work_total"></span>
                </div>
            </div>
            <div class="row add-fee">
                <div class="col-xs-12 col-sm-6">
                    <input type="checkbox" class="fees-values" id="temp_heat_checkbox">
                    <label for="temp_heat_checkbox">${controller.formValues.typeDesc2}</label>
                </div>
                <div class="col-xs-12 col-sm-3 text-center">
                    <span class="pull-left strong">+</span>
                    $ <span class="rates" id="temp_heat">${controller.formValues.rateDesc2}</span>*
                    <span class="pull-right strong">=</span>
                </div>
                <div class="col-xs-12 col-sm-3">
                    $ <span class="totals fees-totals" id="temp_heat_total"></span>
                </div>
            </div>
            <div class="row add-fee">
                <div class="col-xs-12 col-sm-6">
                    <input type="checkbox" class="fees-values" id="hydronic_heat_checkbox">
                    <label for="hydronic_heat_checkbox">${controller.formValues.typeDesc3}</label>
                </div>
                <div class="col-xs-12 col-sm-3 text-center">
                    <span class="pull-left strong">+</span>
                    $ <span class="rates" id="hydronic_heat">${controller.formValues.rateDesc3}</span>*
                    <span class="pull-right strong">=</span>
                </div>
                <div class="col-xs-12 col-sm-3">
                    $ <span class="totals fees-totals" id="hydronic_heat_total"></span>
                </div>
            </div>
        </sly>
        <div class="row add-fee">
            <div class="col-xs-12 col-sm-6">
                ${controller.formValues.R2feeTypeDesc}
            </div>
            <div class="col-xs-12 col-sm-3 text-center">
                <span class="pull-left strong">+</span>
                $ <span class="rates" id="${controller.pdFormType}_min_processing_fee">${controller.formValues.R2Rate}</span>
                <span class="pull-right strong">=</span>
            </div>
            <div class="col-xs-12 col-sm-3">
                $ <span class="totals fees-totals" id="${controller.pdFormType}_min_processing_fee_total"></span>
            </div>
        </div>
        <sly data-sly-test="${controller.pdFormType=='newHomes'}">

            <div class="row">
                <div class="col-xs-12">
                    <small><strong>*</strong>${controller.formValues.msgDesc}</small>
                </div>
            </div>
        </sly>

        <div class="row finals">
            <div class="col-xs-12 col-sm-6 col-sm-offset-3 text-right">${controller.formValues.totalDesc}</div>
            <div class="col-xs-12 col-sm-3">$

                <span id="${controller.pdFormType}_base-fee" class="totals total-fee step-total highlight-row"></span>
                <sly data-sly-test="${controller.pdFormType=='newHomes'}">
                    <small>
                        Minimum $<span class="min_processing_fee" id="${controller.pdFormType}_procFee">${controller.formValues.baseFeeDesc}</span>
                    </small>
                </sly>
            </div>
        </div>
    </div>
</template>
<template data-sly-template.additionalFee="${ @ controller}">
    <div class="container-fluid" id="step3">
        <h2>Step 2: add additional fees and surcharges</h2>
        <div class="draft draft-text"></div>
        <div class="row header-row">
            <div class="hidden-xs col-sm-3">Fee type</div>
            <div class="hidden-xs col-sm-3"></div>
            <div class="hidden-xs col-sm-3">Rate</div>
            <div class="hidden-xs col-sm-3">Total</div>
        </div>
        <div class="row ">
            <div class="col-xs-12 col-sm-3">
                Safety Codes Council Fee - Base Permit
            </div>
            <div class="col-xs-12 col-sm-3">
                $ <span class="fees-values previous-total"></span>
                <br>
                <small class="text-center">Base permit fee</small>
            </div>
            <div class="col-xs-12 col-sm-3 text-center">
                <span class="pull-left strong">×</span>
                <span class="rates" id="safety_fee_base">4%</span>
                <span class="pull-right strong">=</span>
            </div>
            <div class="col-xs-12 col-sm-3">
                $ <span class="totals fees-totals" id="safety_fee_base_total"></span>
                <small>
                    Minimum <span id="safety_fee_base_min">4.50</span> <br>Maximum <span
                        id="safety_fee_base_max">560.00</span>
                </small>
            </div>
        </div>
        <sly data-sly-test="${controller.pdFormType != 'demolition'}">
            <sly data-sly-test="${controller.pdFormType != 'newHomes'}">
                <div class="row ">
                    <div class="col-xs-12 col-sm-3 title">
                        Partial permit rate
                        <small>(optional)</small>
                    </div>
                    <div class="col-xs-12 col-sm-3">
                        <input class="form-control  long-form" type="text" id="partial_permit_input" maxlength=""
                            pattern="[0-9]*" inputmode="numeric">

                        <label for="partial_permit_input">
                            m<sup>2</sup><br> <small>Building area (as defined by Alberta Building Code)</small>
                        </label>
                    </div>
                    <div class="col-xs-12 col-sm-3 text-center">
                        <span class="pull-left strong">×</span>
                        $ <span class="rates" id="partial_permit">
                            1.52
                        </span>
                        <span class="pull-right strong">=</span>
                    </div>
                    <div class="col-xs-12 col-sm-3">
                        $ <span class="totals fees-totals" id="partial_permit_total"></span>
                        <small>
                            Minimum <span id="partial_permit_min">112.00</span> <br>Maximum <span
                                id="partial_permit_max">4,665.00</span>
                        </small>
                    </div>
                </div>
                <sly data-sly-test="${controller.pdFormType == 'newHomes'}">
                    <div class="row ">
                        <div class="col-xs-12 col-sm-6">
                            <input type="checkbox" class="fees-values" id="partial_permit_checkbox">
                            <label for="partial_permit_checkbox">Partial permit?</label>
                            <small>($99.00 and minimum Safety Codes Council Fee of $4.50)</small>
                        </div>
                        <div class="col-xs-12 col-sm-3 text-center">
                            <span class="pull-left strong">+</span>
                            $ <span class="rates" id="partial_permit">103.50</span>
                            <span class="pull-right strong">=</span>
                        </div>
                        <div class="col-xs-12 col-sm-3">
                            $ <span class="totals fees-totals" id="partial_permit_total"></span>
                        </div>
                    </div>
                </sly>
                <div class="row ">
                    <div class="col-xs-12 col-sm-3">
                        Safety Codes Council Fee - partial permit
                        <small>(added if partial permit rate is requested)</small>
                    </div>
                    <div class="col-xs-12 col-sm-3">
                        $ <span class="fees-values previous-total"></span>
                        <br>
                        <small class="text-center">Partial permit rate</small>
                    </div>
                    <div class="col-xs-12 col-sm-3 text-center">
                        <span class="pull-left strong">×</span>
                        <span class="rates" id="safety_fee_partial">4%</span>
                        <span class="pull-right strong">=</span>
                    </div>
                    <div class="col-xs-12 col-sm-3">
                        $ <span class="totals fees-totals" id="safety_fee_partial_total"></span>
                        <small>
                            Minimum <span id="safety_fee_partial_min">4.50</span> <br>Maximum <span
                                id="safety_fee_partial_max">560.00</span>
                        </small>
                    </div>
                </div>
                <sly data-sly-test="${controller.pdFormType != 'multiFammilyLowRise'}">
                    <div class="row ">
                        <div class="col-xs-12 col-sm-3 title">
                            Lot Grading Fee - Commercial/Industrial
                            <small>(required on all new buildings)</small>
                        </div>
                        <div class="col-xs-12 col-sm-3">
                            <input class="form-control  long-form" type="text" id="lot_grading_input" maxlength=""
                                pattern="[0-9]*" inputmode="numeric" data-no-decimals="true">
                            <label for="lot_grading_input">
                                <small>Number of hectares (rounded up to the next whole hectare)</small>
                            </label>
                        </div>
                        <div class="col-xs-12 col-sm-3 text-center">
                            <span class="pull-left strong">×</span>
                            $ <span class="rates" id="lot_grading">
                                80.00
                            </span>
                            <span class="pull-right strong">=</span>
                        </div>
                        <div class="col-xs-12 col-sm-3">
                            $ <span class="totals fees-totals" id="lot_grading_total"></span>
                        </div>
                    </div>

                </sly>
                <sly data-sly-test="${controller.pdFormType == 'multiFammilyLowRise'}">
                    <div class="row">
                        <div class="col-xs-12">Lot Grading Fee</div>
                    </div>
                    <div class="row no-border">
                        <div class="col-xs-12 col-sm-3 title">
                            Less than 10 units
                        </div>
                        <div class="col-xs-12 col-sm-3">
                            <input class="form-control  long-form" type="text" id="lot_grading_input" maxlength="1"
                                pattern="[0-9]*" inputmode="numeric">

                            <label for="lot_grading_input">
                                <small>Number of ground floor dwelling units (9 maximum)</small>
                            </label>
                        </div>
                        <div class="col-xs-12 col-sm-3 text-center">
                            <span class="pull-left strong">×</span>
                            $ <span class="rates" id="lot_grading">
                                20.00
                                / unit

                            </span>
                            <span class="pull-right strong">=</span>
                        </div>

                        <div class="col-xs-12 col-sm-3">
                            $ <span class="totals fees-totals" id="lot_grading_total"></span>
                        </div>
                    </div>
                    <div class="row no-border">
                        <div class="col-xs-12 col-sm-3 title">
                            10 or more units
                        </div>
                        <div class="col-xs-12 col-sm-3">
                            <input class="form-control  long-form" type="text" id="lot_grading2_input" maxlength=""
                                pattern="[0-9]*" inputmode="numeric">

                            <label for="lot_grading2_input">
                                <small>Number of ground floor dwelling units (10 minimum)</small>
                            </label>
                        </div>
                        <div class="col-xs-12 col-sm-3 text-center">
                            <span class="pull-left strong">×</span>
                            $ <span class="rates" id="lot_grading2">
                                10.00
                                / unit
                                + 100
                            </span>
                            <span class="pull-right strong">=</span>
                        </div>

                        <div class="col-xs-12 col-sm-3">
                            $ <span class="totals fees-totals" id="lot_grading2_total"></span>
                        </div>
                    </div>
                    <div class="row no-border">
                        <div class="col-xs-12 col-sm-3 title">
                            Greater than 3 storeys
                        </div>
                        <div class="col-xs-12 col-sm-3">
                            <input class="form-control  long-form" type="text" id="lot_grading3_input" maxlength=""
                                pattern="[0-9]*" inputmode="numeric" data-no-decimals="true">

                            <label for="lot_grading3_input">
                                <small>Number of hectares (rounded up to the next whole hectare)</small>
                            </label>
                        </div>
                        <div class="col-xs-12 col-sm-3 text-center">
                            <span class="pull-left strong">×</span>
                            $ <span class="rates" id="lot_grading3">
                                80.00
                                / ha

                            </span>
                            <span class="pull-right strong">=</span>
                        </div>

                        <div class="col-xs-12 col-sm-3">
                            $ <span class="totals fees-totals" id="lot_grading3_total"></span>
                        </div>
                    </div>
                </sly>

                <div class="row finals">
                    <div class="col-xs-12 col-sm-6 col-sm-offset-3 text-right">TOTAL PERMIT FEE</div>
                    <div class="col-xs-12 col-sm-3">$ <span id="total-fee" class="totals total-fee step-total"></span>
                    </div>
                </div>
                <sly data-sly-test="${controller.pdFormType == 'newHomes'}">
                    <div class="row finals">
                        <div class="col-xs-12 col-sm-6 col-sm-offset-3 text-right">TOTAL PERMIT FEE</div>
                        <div class="col-xs-12 col-sm-3">$ <span id="total-fee"
                                class="totals total-fee step-total"></span>
                        </div>
                    </div>
                    <div class="row finals">
                        <div class="col-xs-12 col-sm-6 col-sm-offset-3 text-right">TOTAL PERMIT FEE</div>
                        <div class="col-xs-12 col-sm-3">$ <span id="total-fee"
                                class="totals total-fee step-total"></span>
                        </div>
                    </div>
                </sly>
    </div>
</template>
<template data-sly-template.prevailingmarketValue="${ @ controller}">
    <div class="container-fluid" id="step1">
        <h2>Step 1: calculate prevailing market value</h2>
        <div class="draft draft-text"></div>
        <div class="row header-row">
            <div class="hidden-xs col-sm-3 nowrap">Construction Type</div>
            <div class="hidden-xs col-sm-3 nowrap">Area / Quantity</div>
            <div class="hidden-xs col-sm-3 text-center">Rate</div>
            <div class="hidden-xs col-sm-3" id="contstruction_total">Total</div>
        </div>
            <sly data-sly-list="${controller.formValues.Pmvitem}">
        <div class="row  step1">
            <div class="col-xs-12 col-sm-3 title">
                Living area - single detached
            </div>
            <div class="col-xs-12 col-sm-3">
                <input class="form-control construction-values" type="text" id="${item.itemId}{itemList.count}" maxlength=""
                    pattern="[0-9]*" inputmode="numeric">

                <label for="living_area1_input">
                    <span class="sr-only">Area in</span> <span class="metres">m</span><span
                        class="feet">ft</span><sup>2</sup>
                </label>
            </div>
            <div class="col-xs-12 col-sm-3 text-center">
                <span class="pull-left strong">×</span>
                $ <span class="rates" id="living_area${itemList.count}">
                    150.35


                </span>
                <span class="pull-right strong">=</span>
            </div>

            <div class="col-xs-12 col-sm-3">
                $ <span class="totals fees-totals" id="living_area${itemList.count}_total"></span>
            </div>

        </div>

    </sly>

    </div>
</template>